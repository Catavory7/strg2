{"name":"templateAndEvents","description":"Use your Star Power to finish\nthis board.","game":3,"type":"NORMAL","difficulty":3,"spaces":[{"x":573,"y":209,"type":7},{"x":573,"y":267,"z":0,"type":10,"events":[]},{"x":529,"y":268,"z":0,"type":1},{"x":480,"y":271,"z":0,"type":12,"events":[]},{"x":444,"y":299,"z":0,"type":0},{"x":490,"y":333,"z":0,"type":1,"star":true},{"x":476,"y":550,"z":0,"type":1},{"x":524,"y":550,"z":0,"type":11},{"x":570,"y":549,"z":0,"type":0},{"x":617,"y":549,"z":0,"type":1},{"x":680,"y":547,"z":0,"type":4},{"x":727,"y":515,"z":0,"type":0,"events":[{"id":"BOO","activationType":1,"executionType":1}]},{"x":750,"y":460,"z":0,"type":1},{"x":713,"y":293,"z":0,"type":13,"events":[{"id":"ITEMSHOP","activationType":1,"executionType":1}]},{"x":676,"y":274,"z":0,"type":15},{"x":629,"y":268,"z":0,"type":1},{"x":461,"y":231,"z":0,"type":15,"subtype":5},{"x":586,"y":505,"z":0,"type":2},{"x":586,"y":307,"z":0,"type":6},{"x":591,"y":405,"z":0,"type":0,"subtype":8},{"x":395,"y":327,"z":0,"type":4,"events":[{"id":"Burner Plant","activationType":1,"executionType":1,"custom":true}]},{"x":374,"y":372,"z":0,"type":4,"events":[{"id":"Thieves","activationType":3,"executionType":1,"custom":true}]},{"x":503,"y":375,"z":0,"type":0,"events":[{"id":"Space Warp v3 (Airsola™)","activationType":1,"executionType":1,"custom":true,"parameterValues":{"Destination":25}}]},{"x":742,"y":335,"z":0,"type":1},{"x":752,"y":397,"z":0,"type":1,"star":true},{"x":657,"y":424,"z":0,"type":0},{"x":373,"y":418,"z":0,"type":4,"events":[{"id":"Space Warp v3 (Airsola™)","activationType":3,"executionType":1,"custom":true,"parameterValues":{"Destination":25}}]},{"x":590,"y":460,"z":0,"type":2},{"x":590,"y":348,"z":0,"type":6},{"x":374,"y":464,"z":0,"type":4},{"x":392,"y":512,"z":0,"type":4},{"x":427,"y":548,"z":0,"type":1},{"x":707,"y":423,"z":0,"type":0}],"links":{"0":1,"1":2,"2":3,"3":4,"4":[5,20],"5":22,"6":7,"7":8,"8":[9,17],"9":10,"10":11,"11":12,"12":24,"13":14,"14":15,"15":1,"17":27,"18":1,"19":28,"20":21,"21":26,"23":13,"24":23,"25":32,"26":29,"27":19,"28":18,"29":30,"30":31,"31":6,"32":[12,24]},"events":{"Multi-Star Variable Purchase (MP3)":{"language":1,"code":"// NAME: Multi-Star Variable Purchase (MP3)\n// GAMES: MP3_USA\n// EXECUTION: Direct\n// PARAM: +Number|MAX_STARS\n// PARAM: Number|STAR_COST\n\n//Special Thanks to Airsola for finding everything initially,\n//and PartyPlanner64 for the translated versions to C\n\n//If using the Variable Pricing, set STAR_COST to 0 or a negative value\n//MAX_STARS indicates how many stars a player can purchase at once.\n\n#include \"ultra64.h\"\n\nstruct player {\n    s8 unk0;\n    s8 cpu_difficulty;\n    s8 controller;\n    u8 character;\n    /**\n     * Miscellaneous flags.\n     * 1: Is CPU player\n     */\n    u8 flags;\n    s8 pad0[5];\n    /**\n     * Current coin count.\n     */\n    s16 coins; // 10\n    /**\n     * Coins obtained during a Mini-Game.\n     */\n    s16 minigame_coins; // 12\n    s8 stars; // 14\n\n    u8 cur_chain_index; // 15\n    u8 cur_space_index; // 16\n    u8 next_chain_index; // 17\n    u8 next_space_index; // 18\n    u8 unk1_chain_index; // 19\n    u8 unk1_space_index; // 20\n    u8 reverse_chain_index; // 21\n    u8 reverse_space_index; // 22\n\n    u8 status_flags; // 23\n    u8 items[3]; // 24\n    u8 bowser_suit_flag; // 27\n    u8 turn_color_status; // 28\n\n    s8 pad1[7]; // 29 - 35\n\n    void *obj; // 36 // struct object *\n    s16 minigame_star; // 40\n    s16 coin_star; // 42\n    s8 happening_space_count; // 44\n    s8 red_space_count;\n    s8 blue_space_count;\n    s8 chance_space_count;\n    s8 bowser_space_count; // 48\n    s8 battle_space_count;\n    s8 item_space_count;\n    s8 bank_space_count;\n    s8 game_guy_space_count; // 52\n\n    // s8 pad2[3];\n}; // sizeof == 56\n\n// Structure declarations for the structs used by the AI logic.\nunion ai_next {\n    struct ai_node *ptr;\n    unsigned int decision;\n};\nstruct ai_node {\n    unsigned char type;\n    unsigned int data;\n    union ai_next next;\n};\n\n// Example AI logic that makes a random choice.\nstruct ai_node ai_random_choice[] = {\n    { 0, 0x00000000, 0x064C9932 },\n};\n\n#define PICTURE 0x16 //set as Millenium Star\n\nextern struct player *GetPlayerStruct(s32 player_index);\n\n// This is one of a few available addresses that get copied into EEPROM.\nextern u8 D_800CD0A1; //change if using a different address\n\nchar cost[16];\nchar stars[16];\nchar coins[16];\nchar desc[16];\n\nchar *NotEnoughCoins_Message =\n    \"\\x1A\\x1A\\x1A\\x1A\" // Standard padding for picture\n    \"Hey\"\n    \"\\x82\" // Comma (,)\n    \" \\x12\" // String #2 (Character)\n    \"\\xC2\" // !\n    \"\\x0A\" // New line\n    \"\\x1A\\x1A\\x1A\\x1A\"\n    \"You need at least \"\n    \"\\x05\" // Green Font\n    \"\\x11\" // String #1 (STAR_COST)\n    \"coins\"\n    \"\\x0A\" // New line\n    \"\\x1A\\x1A\\x1A\\x1A\"\n    \"\\x08\" // White \n    \"to purchase\"\n    \"\\x07\" // Yellow Font\n    \"stars\"\n    \"\\x08\" // White Font\n    \" right now\"\n    \"\\x85\" // .\n    \"\\x0A\" // New line\n    \"Come back when you have enough\"\n    \"\\xC2\" // !\n    \"\\xFF\";\n\nchar *Prompt =\n    \"\\x0B\" // Start the message\n    \"\\x1A\\x1A\\x1A\\x1A\" // Standard padding for picture\n    \"Hey\"\n    \"\\x82\" // Comma (,)\n    \" \\x12\" // String #2 (Character)\n    \"\\xC2\" // !\n    \"\\x0A\" // New line\n    \"\\x1A\\x1A\\x1A\\x1A\"\n    \"\\x07\" // Yellow Font\n    \"Stars\"\n    \"\\x08\" // White Font\n    \" costs \"\n    \"\\x05\" // Green Font\n    \"\\x11\" // String #1 (STAR_COST)\n    \"coins\"\n    \"\\x08\" // White Font\n    \" each\"\n    \"\\x85\" // .\n    \"\\x0A\" // New line\n    \"\\x1A\\x1A\\x1A\\x1A\"\n    \"Would you like to purchase \"\n    \"\\x13\" // String #3 (\"some\" or \"one\", depending on the Max Stars they offer)\n    \"\\xC3\" // \"?\"\n    \"\\x0A\" // New line\n    \"\\x1A\\x1A\\x1A\\x1A\\x1A\\x1A\" // Picture + Option Indent\n    \"\\x0C\" // Start option\n    \"Yes\"\n    \"\\x0D\" // End option\n    \"\\x0A\" // New line\n    \"\\x1A\\x1A\\x1A\\x1A\\x1A\\x1A\"\n    \"\\x0C\" // Start option\n    \"No\"\n    \"\\x0D\" // End option\n    \"\\x0A\" // New line\n    \"\\x1A\\x1A\\x1A\\x1A\\x1A\\x1A\"\n    \"\\x0C\" // Start option\n    \"View Map\"\n    \"\\x0D\";\n\nchar *Yes_Message =\n    \"\\x1A\\x1A\\x1A\\x1A\" // Standard padding for picture\n    \"Alright\"\n    \"\\xC2\" // !\n    \"\\x0A\" // New line\n    \"\\x1A\\x1A\\x1A\\x1A\"\n    \"Enjoy your \"\n    \"\\x07\" // Yellow Font\n    \"Star\"\n    \"\\x08\" // White Font\n    \"\\xC2\" // !\n    \"\\xFF\";\n\nchar *No_Message =\n    \"\\x1A\\x1A\\x1A\\x1A\" // Standard padding for picture\n    \"Really\"\n    \"\\xC3\" // \"?\"\n    \"\\x0A\" // New line\n    \"\\x1A\\x1A\\x1A\\x1A\" // Standard padding for picture\n    \"Guess I\\x5Cll see\"\n    \"\\x0A\" // New line\n    \"\\x1A\\x1A\\x1A\\x1A\" // Standard padding for picture\n    \"you later then\"\n    \"\\x85\" // .\n    \"\\xFF\";\n\nchar *Stars_Message =\n    \"\\x0B\" // Start the message\n    \"\\x1A\\x1A\\x1A\\x1A\" // Standard padding for picture\n    \"How many\"\n    \"\\x07\" // Yellow Font\n    \"stars\"\n    \"\\x08\" // White Font\n    \"\\x0A\" // New line\n    \"\\x1A\\x1A\\x1A\\x1A\"\n    \"will you purchase\"\n    \"\\xC3\" // \"?\"\n    \"\\x0A\" // New line\n    \"\\x0A\" // New line\n    \"\\x1A\\x1A\\x1A\\x1A\\x1A\" // Picture + Option Indent\n    \"Buy\"\n    \"\\x10\\x10\" // Space 2x (  )\n    \"\\x2A\" // Star icon\n    \"\\x20\" // ???\n    \"\\x3E\" // x (multiply)\n    \"\\x20\" // ???\n    \"\\x05\" // Green Font\n    \"\\x0F\" // ???\n    \"\\x11\" // String #1 (Stars)\n    \"\\x19\" // ???\n    \"\\x0A\" // New line\n    \"\\x1A\\x1A\\x1A\\x1A\\x1A\" // Picture + Option Indent\n    \"For\"\n    \"\\x10\\x10\" // Space 2x (  )\n    \"\\x29\" // Coin icon\n    \"\\x20\" // ???\n    \"\\x3E\" // x (multiply)\n    \"\\x20\" // ???\n    \"\\x05\" // Green Font\n    \"\\x0F\" // ???\n    \"\\x12\" // String #2 (Price)\n    \"\\x19\" // ???\n    \"\\x0A\" // New line\n    \"\\x0A\" // New line\n    \"\\x1A\\x1A\\x1A\\x1A\\x1A\\x1A\"\n    \"\\x28\" // Control Stick Icon\n    \"\\x85\\x85\\x85\" // ...\n    \"Choose\"\n    \"\\x0A\" // New line\n    \"\\x1A\\x1A\\x1A\\x1A\\x1A\\x1A\"\n    \"\\x21\" // (A) Button Icon\n    \"\\x85\\x85\\x85\"\n    \"Confirm\"\n    \"\\x0A\" // New line\n    \"\\x1A\\x1A\\x1A\\x1A\\x1A\\x1A\"\n    \"\\x22\" // (B) Button Icon\n    \"\\x85\\x85\\x85\"\n    \"Back\";\n\nvoid main() {\n    SetBoardPlayerAnimation(-1, -1, 2);\n\n    s32 player_index = GetCurrentPlayerIndex();\n    struct player *player = GetPlayerStruct(-1);\n\n    PlaySound(345); // Millenium Star's \"Ho ho ho\".\n\n    s32 price = STAR_COST;\n    if(price <= 0){\n        price = D_800CD0A1; //if STAR_COST is 0 or less, it loads the variable price.\n    } //Change D_800CD0A1 to another usable address if it conflicts with another event\n    \n    s32 purchaseNo = 1;\n    s32 Max = player->coins / price;\n    sprintf(cost, \"%d\", price);\n    sprintf(stars, \"%d\", purchaseNo);\n    sprintf(coins, \"%d\", (purchaseNo * price));\n    \n    if(Max > MAX_STARS){\n        Max = MAX_STARS;\n    }\n    \n    if(MAX_STARS != 1){\n    \tsprintf(desc, \"some\");\n    }\n    else {\n    \tsprintf(desc, \"one\");\n    }\n    \n    s32 character_str = 0x1C00 + player->character;\n\n    if (PlayerHasCoins(player_index, price) == 0) {\n        ShowMessage(PICTURE, NotEnoughCoins_Message, cost, character_str, 0, 0, 0);\n        func_800EC9DC();\n        CloseMessage();\n        func_800EC6EC();\n        return;\n    }\n\n    while (1) {\n        ShowMessage(PICTURE, Prompt, cost, character_str, desc, 0, 0);\n        // Get the selection, either from the player or CPU.\n        // If A0 is a pointer to AI data, AI logic is ran to pick for CPUs.\n        s32 choice = GetBasicPromptSelection(2, 0); \n        \n        CloseMessage();\n        func_800EC6EC();\n        \n        switch (choice) {\n            case 0:\n                if(MAX_STARS == 1){ //gives a star if only 1 can be purchased\n                    PlaySound(583); // Cash register sound.\n                    SleepProcess(10);\n\n                    // Take coins\n                    AdjustPlayerCoinsGradual(player_index, -(purchaseNo * price));\n                    ShowPlayerCoinChange(player_index, -(purchaseNo * price));\n                    SleepProcess(30);\n\n                    ShowMessage(PICTURE, Yes_Message, 0, 0, 0, 0, 0);\n                    func_800EC9DC();\n                    CloseMessage();\n                    func_800EC6EC();\n                    \n\t\t\t\t\t// Celebration\n                \tfunc_8004A520(111); // Play star jingle\n                \tplayer->stars += purchaseNo;\n                \tfunc_800F2304(-1, 6, 0);\n                \tfunc_8004ACE0(610, player_index);\n                \tSleepProcess(60);\n                \tSleepProcess(50);\n\n                \t// Restore board music\n                \tfunc_8004A520(GetBoardAudioIndex());\n                    return;\n                }\n                s32 isCPU = PlayerIsCPU(-1);\n                s32 aPressed = 0;\n                s32 bPressed = 0;\n                \n                //this version doesn't have CPU menu appear since it appears to\n                //not work when working with multiple variables in 1 message like this.\n                if (!isCPU) {\n                    // Alternative ShowMessage?\n                \tfunc_800EC92C(PICTURE, Stars_Message, stars, coins, 0, 0, 0);\n                    \n                    // Give real players opportunity to buy more stars.\n                    while (!aPressed && !bPressed) {\n                        aPressed = ButtonsPressed(player, A_BUTTON);\n                        bPressed = ButtonsPressed(player, B_BUTTON);\n\n                        s32 yState = GetJoystickVerticalState(player);\n                        if (yState > 0 && purchaseNo < Max) {\n                            purchaseNo++;\n                        }\n                        else if (yState < 0 && purchaseNo > 1) {\n                            purchaseNo--;\n                        }\n                        else {\n                            SleepVProcess();\n                            continue;\n                        }\n\n                        PlaySound(582); // Coin sound\n\n                        // Refresh the amount\n    \t\t\t\t\tsprintf(stars, \"%d\", purchaseNo);\n    \t\t\t\t\tsprintf(coins, \"%d\", (purchaseNo * price));\n                        func_8005B6BC(2, stars, coins, 0, 0);\n                        func_8005B43C(2, Stars_Message, -1, -1, -1, -1, -1);\n                        SleepProcess(2); // Reduce speed of loop further\n                    }\n                    \n                    CloseMessage();\n                \tfunc_800EC6EC(); //an error occurred here?\n                }\n\n                if(isCPU){ //ensures computer buys as many as possible\n                    SleepProcess(10); //Initial CPU wait\n                    purchaseNo = Max;\n                }\n                \n                if (isCPU || aPressed) {\n                    PlaySound(583); // Cash register sound.\n                    SleepProcess(10);\n\n                    // Take coins\n                    AdjustPlayerCoinsGradual(player_index, -(purchaseNo * price));\n                    ShowPlayerCoinChange(player_index, -(purchaseNo * price));\n                    SleepProcess(30);\n\n                    ShowMessage(PICTURE, Yes_Message, 0, 0, 0, 0, 0);\n                    func_800EC9DC();\n                    CloseMessage();\n                    func_800EC6EC();\n                    \n\t\t\t\t\t// Celebration\n                \tfunc_8004A520(111); // Play star jingle\n                \tplayer->stars += purchaseNo;\n                \tfunc_800F2304(-1, 6, 0);\n                \tfunc_8004ACE0(610, player_index, -1, -1);\n                \tSleepProcess(60);\n                \tSleepProcess(50);\n\n                \t// Restore board music\n                \tfunc_8004A520(GetBoardAudioIndex());\n                    return;\n                }\n                break; // Go back.\n\n            case 1:\n                // Show decline message and exit\n                ShowMessage(PICTURE, No_Message, 0, 0, 0, 0, 0);\n                func_800EC9DC();\n                CloseMessage();\n                func_800EC6EC();\n                return;\n\n            case 2:\n                // Let player view the map, then repeat the loop to pick again.\n                ViewBoardMap();\n                break;\n        }\n    }\n}\n\n// OSContPad is defined in ultra64.h.\n// The array of structs in the game is sizeof 8, so we need\n// to pad out a bit to access it like an array.\nstruct OSContPadPadded {\n    OSContPad cont;\n    u16 padding;\n};\n\n// This is the location of the ultra64 controller struct array.\nextern struct OSContPadPadded D_800CC3F4[4];\n\n// Returns 1 if the button mask matches the player's controller, 0 otherwise.\ns32 ButtonsPressed(struct player *player, u32 buttons) {\n    return (D_800CC3F4[player->controller].cont.button & buttons) == buttons;\n}\n\n// Returns 1 if Y axis of the joystick has been pushed up enough to be considered \"up\"\n// Returns -1 if it is pushed \"down\"\n// 0 if in a more or less neutral vertical state.\ns32 GetJoystickVerticalState(struct player *player) {\n    s8 stick_y = D_800CC3F4[player->controller].cont.stick_y;\n\n    // According to docs, -80 <= stick_y <= 80\n    if (stick_y < -50) {\n        return -1;\n    }\n    if (stick_y > 60) {\n        return 1;\n    }\n    return 0;\n}\n\nvoid SendPlayerBack(struct player *player) {\n    // Send the player back\n    if (player->status_flags & 0x80) {\n        SetNextChainAndSpace(\n            -1,\n            player->reverse_chain_index,\n            player->reverse_space_index\n        );\n    }\n    else {\n        SetNextChainAndSpace(\n            -1,\n            player->next_chain_index,\n            player->next_space_index\n        );\n    }\n}"},"Burner Plant":{"language":0,"code":"; NAME: Burner Plant\n; GAMES: MP3_USA\n; EXECUTION: Direct\n; PARAM: Space|SpaceDirection\n; PARAM: Boolean|Rubberbanding\n\nADDIU SP SP -80\nSW RA 76(SP)\nSW S1 72(SP) ;holds rubberbanding variable\nSW S2 68(SP) ;used to store various values\nSW S0 64(SP) ;used to store various values\n\n;===============================================================\n;Code by Spongyoshi, feel free to use on your own boards!\n;Piranha Plant will burn one of your items at random\n;If you have no item, they'll miss automatically\n;The likelyhood of being burned is depending of Rubberbanding\n;If Rubberbanding is True, trailing players will rarely get burned\n;If Rubberbanding is False, there's a 1/3 chance to not get burned\n;Thanks to Airsola and the Mario Party Legacy Discord for their help!\n;===============================================================\n\nJAL PlaySound ; Play Pirhana Plant Sound\nLI A0 0x2A4\n\n;===Set Player Idle Animation===\nLI A0 -1 ; Load Current Player Index\nLI A1 -1 ; Set player's idle animation\nJAL SetBoardPlayerAnimation\nLI A2 2 ; Loop the animation\n\n;===Rotate Player Model Towards Space===\nLI A0 -1 ; Load Current Player Index\nLI A1 10 ; Frames it takes to turn\nJAL 0x800ED20C ; RotatePlayerModel function\nLI A2 SpaceDirection ; Space Index to face towards\n\n;FIRST WINDOW=====================================================\nSW R0 16(SP) ; A4\nSW R0 20(SP) ; A5\nSW R0 24(SP) ; A6\nLI A0 0x1E ; Character image (Piranha Plant)\nLUI A1 hi(Fire_Plant)\nADDIU A1 A1 lo(Fire_Plant)\n\nADDU A2 R0 R0\nJAL 0x800EC8EC ; ShowMessage\nADDU A3 R0 R0\n\nJAL 0x800EC9DC\nNOP\nJAL 0x800EC6C8\nNOP\nJAL 0x800EC6EC\nNOP\n\nLI A0 0x444 ; Fire Heat-Up Sound\nJAL PlaySound ; Play the Fire Heat-Up Sound\nNOP\n\nJAL SleepProcess ; Sleeps for 60 frames\nADDIU A0 R0 60\n\nJAL PlayerHasEmptyItemSlot\nLI A0 -1 ;current_player_index\nLI S2 0\nBEQ V0 S2 Missed_Shot ;Ensure miss if player has no items\nNOP\n;FIRST WINDOW END=====================================================\n\n;CHECK FOR RUBBERBAND=================================================\nLI S1 Rubberbanding\nBNE S1 R0 TestTest ; if yes, do the checks\nNOP ; If not, randomly pick\n;CHECK FOR RUBBERBAND END=============================================\n\n;COMPLETLY RANDOM PICK===============================================\nJAL GetRandomByte ; Random Int at V0\nNOP\n\nSLTI S0 V0 175 ; Is the number less than 175?\nBNE S0 R0 Landed_Shot\nNOP\n\nJ Missed_Shot\nNOP\n;COMPLETLY RANDOM PICK END===========================================\n\n;CHECKS MISSFIRE1===============================================\nTestTest:\nJAL GetRandomByte ; Random Int at V0\nNOP\n\nSLTI S0 V0 80 ; Is the number less than 80?\nBNE S0 R0 LeadingPyroTest\nNOP\n\nSLTI S0 V0 160 ; Is the number less than 160?\nBNE S0 R0 ItemPyroTest\nNOP\n\nSLTI S0 V0 240 ; Is the number less than 240?\nBNE S0 R0 CoinPyroTest\nNOP\n\nJ LoserPyroTest\nNOP\n;CHECKS MISSFIRE1 END===========================================\n\n;CHECKS MISSFIRE2===============================================\n;Check if first place\nLeadingPyroTest:\nJAL GetCurrentPlayerStarCount\nNOP\nMOVE S2 V0 ; S2 = V0\nJAL GetFirstPlaceStarCount\nNOP\nBEQ S2 V0 Landed_Shot ;Does current player have the same number of stars as first place?\nNOP\nJ Missed_Shot\nNOP\n;Check if 1 or 0 items\nItemPyroTest:\nJAL PlayerHasEmptyItemSlot\nLI A0 -1 ;current_player_index\nLI S2 0\nBEQ V0 S2 Missed_Shot ;Does current player has no items?\nNOP\nLI S2 1\nBEQ V0 S2 Missed_Shot ;Does current player has one item?\nNOP\nJ Landed_Shot\nNOP\n;Check if 20 coins or more\nCoinPyroTest:\nLI A1 20 ; A1 = The ammount of Coins to check for\nJAL PlayerHasCoins ; Checks if Player has that ammount of Coins\nLI A0 -1 ;current_player_index\nBNE V0 R0 Landed_Shot \nNOP\nJ Missed_Shot\nNOP\n;Check if player in last place\nLoserPyroTest:\nJAL GetCurrentPlayerIndex\nNOP\nJAL GetPlayerPlacement\nMOVE A0 V0\nLI S2 3\nBEQ V0 S2 Missed_Shot ;Does current player have a rank of 3? (last)\nNOP\nJ Landed_Shot\nNOP\n;CHECKS MISSFIRE2 END===========================================\n\n;LOOSE ITEMS SELECT START---------------------------------------------\nLanded_Shot:\nSLTI S0 V0 90 ; Is the number less than 90?\nBNE S0 R0 LooseFirstItem\nNOP\n\nSLTI S0 V0 180 ; Is the number less than 180?\nBNE S0 R0 LooseSecondItem\nNOP\n\nJ LooseThirdItem\nNOP\n;LOOSE ITEMS SELECT END-----------------------------------------------\n\n;LOOSE ACTUAL ITEM START----------------------------------------------\nLooseFirstItem:\nJAL GetPlayerStruct\nLI A0 -1 ; This gets the current player's struct address on V0\nLI T0 0xFF ; T0 = No item index\nSB T0 24(V0) ; We're storing 0xFF into the player's first item slot\nJ Landed_Shot_Continue\nNOP\n\nLooseSecondItem:\nJAL PlayerHasEmptyItemSlot\nLI A0 -1 ;current_player_index\nLI S2 1\nBEQ V0 S2 LooseFirstItem ;Does current player has one item?\nNOP\n;Else keep going\nJAL GetPlayerStruct\nLI A0 -1 ; This gets the current player's struct address on V0\nLI T0 0xFF ; T0 = No item index\nSB T0 25(V0) ; We're storing 0xFF into the player's second item slot\nJ Landed_Shot_Continue\nNOP\n\nLooseThirdItem:\nJAL PlayerHasEmptyItemSlot\nLI A0 -1 ;current_player_index\nLI S2 1\nBEQ V0 S2 LooseFirstItem ;Does current player has one item?\nNOP\nLI S2 2\nBEQ V0 S2 LooseFirstItem ;Does current player has two items?\nNOP\n;Else keep going\nJAL GetPlayerStruct\nLI A0 -1 ; This gets the current player's struct address on V0\nLI T0 0xFF ; T0 = No item index\nSB T0 26(V0) ; We're storing 0xFF into the player's third item slot\n;LOOSE ACTUAL ITEM END------------------------------------------------\n\n;LOOSE ITEMS ANIM START---------------------------------------------------\nLanded_Shot_Continue:\nLI A0 0x170 ; Fire Hit Sound\nJAL PlaySound ; Play the Fire Hit Sound\nNOP\n\nJAL SleepProcess ; Sleeps for 5 frames\nADDIU A0 R0 5\n\nLI A0 -1 ; Load Current Player Index\nLI A1 04 ; Set player's dizzy animation\nJAL SetBoardPlayerAnimation\nLI A2 2 ; Loop the animation\n\nJAL FixUpPlayerItemSlots\nLI A0 -1 ;puts any empty item slot at the end\n\nJAL RefreshHUD\nLI A0 -1 ;refresh current player HUD\n\n;!!!LONG ANIMATION, MIGHT NEED TO OPTIMIZE THIS!!!\nJAL GetPlayerStruct\nLI a0, -1\nLW v0, 0x0024 (v0)\nLI t0, 0x41200000 ;value 10 as float\nSW t0, 0x0010 (v0) ;store 10 to player y pos\n\nJAL SleepVProcess ;Sleep for one frame\nNOP\n\nJAL GetPlayerStruct\nLI a0, -1\nLW v0, 0x0024 (v0)\nLI t0, 0x41A00000 ;value 20 as float\nSW t0, 0x0010 (v0) ;store 20 to player y pos\n\nJAL SleepVProcess ;Sleep for one frame\nNOP\n\nJAL GetPlayerStruct\nLI a0, -1\nLW v0, 0x0024 (v0)\nLI t0, 0x41E00000 ;value 28 as float\nSW t0, 0x0010 (v0) ;store 28 to player y pos\n\nJAL SleepVProcess ;Sleep for one frame\nNOP\n\nJAL GetPlayerStruct\nLI a0, -1\nLW v0, 0x0024 (v0)\nLI t0, 0x420C0000 ;value 35 as float\nSW t0, 0x0010 (v0) ;store 35 to player y pos\n\nJAL SleepVProcess ;Sleep for one frame\nNOP\n\nJAL GetPlayerStruct\nLI a0, -1\nLW v0, 0x0024 (v0)\nLI t0, 0x42180000 ;value 38 as float\nSW t0, 0x0010 (v0) ;store 38 to player y pos\n\nJAL SleepVProcess ;Sleep for one frame\nNOP\n\nJAL GetPlayerStruct\nLI a0, -1\nLW v0, 0x0024 (v0)\nLI t0, 0x42200000 ;value 40 as float\nSW t0, 0x0010 (v0) ;store 40 to player y pos\n\nJAL SleepVProcess ;Sleep for one frame\nNOP\n\nJAL GetPlayerStruct\nLI a0, -1\nLW v0, 0x0024 (v0)\nLI t0, 0x42180000 ;value 38 as float\nSW t0, 0x0010 (v0) ;store 38 to player y pos\n\nJAL SleepVProcess ;Sleep for one frame\nNOP\n\nJAL GetPlayerStruct\nLI a0, -1\nLW v0, 0x0024 (v0)\nLI t0, 0x420C0000 ;value 35 as float\nSW t0, 0x0010 (v0) ;store 35 to player y pos\n\nJAL SleepVProcess ;Sleep for one frame\nNOP\n\nJAL GetPlayerStruct\nLI a0, -1\nLW v0, 0x0024 (v0)\nLI t0, 0x41E00000 ;value 28 as float\nSW t0, 0x0010 (v0) ;store 28 to player y pos\n\nJAL SleepVProcess ;Sleep for one frame\nNOP\n\nJAL GetPlayerStruct\nLI a0, -1\nLW v0, 0x0024 (v0)\nLI t0, 0x41A00000 ;value 20 as float\nSW t0, 0x0010 (v0) ;store 20 to player y pos\n\nJAL SleepVProcess ;Sleep for one frame\nNOP\n\nJAL GetPlayerStruct\nLI a0, -1\nLW v0, 0x0024 (v0)\nLI t0, 0x41200000 ;value 10 as float\nSW t0, 0x0010 (v0) ;store 10 to player y pos\n\nJAL SleepVProcess ;Sleep for one frame\nNOP\n\nJAL GetPlayerStruct\nLI a0, -1\nLW v0, 0x0024 (v0)\nLI t0, 0x00000000 ;value 0 as float\nSW t0, 0x0010 (v0) ;store 0 to player y pos\n\nJAL SleepVProcess ;Sleep for one frame\nNOP\n\nLI A0 0x179 ; Land Effect Sound\nJAL PlaySound ; Play the Land Effect Sound\nNOP\n\nJAL GetPlayerStruct\nLI a0, -1\nLW v0, 0x0024 (v0)\nLI t0, 0x40000000 ;value 2 as float\nSW t0, 0x0010 (v0) ;store 2 to player y pos\n\nJAL SleepVProcess ;Sleep for one frame\nNOP\n\nJAL GetPlayerStruct\nLI a0, -1\nLW v0, 0x0024 (v0)\nLI t0, 0x40800000 ;value 4 as float\nSW t0, 0x0010 (v0) ;store 4 to player y pos\n\nJAL SleepVProcess ;Sleep for one frame\nNOP\n\nJAL GetPlayerStruct\nLI a0, -1\nLW v0, 0x0024 (v0)\nLI t0, 0x40A00000 ;value 5 as float\nSW t0, 0x0010 (v0) ;store 5 to player y pos\n\nJAL SleepVProcess ;Sleep for one frame\nNOP\n\nJAL GetPlayerStruct\nLI a0, -1\nLW v0, 0x0024 (v0)\nLI t0, 0x40800000 ;value 4 as float\nSW t0, 0x0010 (v0) ;store 4 to player y pos\n\nJAL SleepVProcess ;Sleep for one frame\nNOP\n\nJAL GetPlayerStruct\nLI a0, -1\nLW v0, 0x0024 (v0)\nLI t0, 0x40400000 ;value 3 as float\nSW t0, 0x0010 (v0) ;store 3 to player y pos\n\nJAL SleepVProcess ;Sleep for one frame\nNOP\n\nJAL GetPlayerStruct\nLI a0, -1\nLW v0, 0x0024 (v0)\nLI t0, 0x40000000 ;value 2 as float\nSW t0, 0x0010 (v0) ;store 2 to player y pos\n\nJAL SleepVProcess ;Sleep for one frame\nNOP\n\nJAL GetPlayerStruct\nLI a0, -1\nLW v0, 0x0024 (v0)\nLI t0, 0x00000000 ;value 0 as float\nSW t0, 0x0010 (v0) ;store 0 to player y pos\n\nJAL SleepProcess ; Sleeps for 20 frames\nADDIU A0 R0 20\n\nLUI A1 hi(Fire_Plant_Hit)\nADDIU A1 A1 lo(Fire_Plant_Hit)\n\nJ Window_Exit\nNOP\n;LOOSE ITEMS ANIM END-----------------------------------------------------\n\n;KEEP ITEMS START----------------------------------------------------\nMissed_Shot:\nLI A0 0x488 ; Fire Misses Sound\nJAL PlaySound ; Play the Fire Misses Sound\nNOP\n\nJAL SleepProcess ; Sleeps for 40 frames\nADDIU A0 R0 40\n\nLI A0 -1 ; Load Current Player Index\nLI A1 05 ; Set player's happy animation\nJAL SetBoardPlayerAnimation\nLI A2 0 ; Don't loop the animation\n\nJAL GetPlayerStruct\nLI A0 -1\nLBU T0 3(V0)\nJAL PlaySound\nADDIU A0 T0 0x275 ; Add Mario's Happy Voice Index\n\nJAL SleepProcess ; Sleeps for 30 frames\nADDIU A0 R0 30\n\nLUI A1 hi(Fire_Plant_Miss)\nADDIU A1 A1 lo(Fire_Plant_Miss)\n\nJ Window_Exit\nNOP\n;KEEP ITEMS END------------------------------------------------------\nWindow_Exit:\nSW R0 16(SP) ; A4\nSW R0 20(SP) ; A5\nSW R0 24(SP) ; A6\nLI A0 0x1E ; Character image (Piranha Plant)\n\nADDU A2 R0 R0\nJAL ShowMessage\nADDU A3 R0 R0\n\nJAL 0x800EC9DC\nNOP\nJAL 0x800EC6C8\nNOP\nJAL 0x800EC6EC\nNOP\n;===Set Player Idle Animation===\nLI A0 -1 ; Load Current Player Index\nLI A1 -1 ; Set player's idle animation\nJAL SetBoardPlayerAnimation\nLI A2 2 ; Loop the animation\n\nLW RA 76(SP)\nLW S1 72(SP)\nLW S2 68(SP)\nLW S0 64(SP)\nJR RA\nADDIU SP SP 80\n\n.align 16\nFire_Plant:\n.byte 0x1A,0x1A,0x1A,0x1A ; Standard padding for picture\n.ascii \"GRAWR CHARBLE GRAWR\"\n.byte 0xC2 ; Exclamation Mark (!)\n.byte 0x0A ; Newline\n.byte 0x1A,0x1A,0x1A,0x1A ; Standard padding for picture\n.byte 0x5D ; Paranthesis (\n.ascii \"Hey\"\n.byte 0x82 ; Comma (,)\n.ascii \" what\"\n.byte 0x5C ; Apostrophe (')\n.ascii \"s cooking\"\n.byte 0xC3 ; Question Mark (?)\n.ascii \" YOU ARE\" \n.byte 0xC2, 0xC2 ; Exclamation Marks (!!)\n.byte 0x5E ; Paranthesis )\n.byte 0xFF,0 ; FF=Pause\n\n.align 16\nFire_Plant_Hit:\n.byte 0x1A,0x1A,0x1A,0x1A ; Standard padding for picture\n.ascii \"GRAWR HARHAR GRAWR\"\n.byte 0xC2 ; Exclamation Mark (!)\n.byte 0x0A ; Newline\n.byte 0x1A,0x1A,0x1A,0x1A ; Standard padding for picture\n.byte 0x5D ; Paranthesis (\n.ascii \"Haw\"\n.byte 0x82 ; Comma (,)\n.ascii \" haw\"\n.byte 0xC2 ; Exclamation Mark (!)\n.ascii \" Can\"\n.byte 0x5C ; Apostrophe (')\n.ascii \"t stand the heat\"\n.byte 0xC3 ; Question Mark (?)\n.byte 0x5E ; Paranthesis )\n.byte 0xFF,0 ; FF=Pause\n\n.align 16\nFire_Plant_Miss:\n.byte 0x1A,0x1A,0x1A,0x1A ; Standard padding for picture\n.ascii \"GRAK GLUB GROK\"\n.byte 0x85,0x85,0x85 ; Periods (...)\n.byte 0x0A ; Newline\n.byte 0x1A,0x1A,0x1A,0x1A ; Standard padding for picture\n.byte 0x5D ; Paranthesis (\n.ascii \"Ack\"\n.byte 0xC2 ; Exclamation Mark (!)\n.ascii \" I fouled that up\"\n.byte 0xC2 ; Exclamation Mark (!)\n.byte 0x5E ; Paranthesis )\n.byte 0xFF,0 ; FF=Pause\n\n.align 16\nGetCurrentPlayerStarCount:\nADDIU SP SP -40\nSW RA 36(SP)\nJAL GetPlayerStruct\nLI A0, -1\nLBU V0, 0x000A (v0) ;load current player star count to V0\nLW RA 36(SP)\nJR RA\nADDIU SP SP 40\n\n.align 16\nGetFirstPlaceStarCount:\nADDIU SP SP -40\nSW RA 36(SP)\nLI T0 0x0\n;Test if player one is in first place\nJAL GetPlayerPlacement\nLI A0 0x0\nBEQ T0 V0 GetPlayerOneStarCount\nNOP\n;Test if player two is in first place\nJAL GetPlayerPlacement\nLI A0 0x1\nBEQ T0 V0 GetPlayerTwoStarCount\nNOP\n;Test if player three is in first place\nJAL GetPlayerPlacement\nLI A0 0x2\nBEQ T0 V0 GetPlayerThreeStarCount\nNOP\n;Test if player four is in first place\nJAL GetPlayerPlacement\nLI A0 0x3\nBEQ T0 V0 GetPlayerFourStarCount\nNOP\n;Get player one star count into V0\nGetPlayerOneStarCount:\nLUI V0 hi(p1_stars)\nADDIU V0 V0 lo(p1_stars)\nLBU V0 0(V0)\nJ starcountend\nNOP\n;Get player two star count into V0\nGetPlayerTwoStarCount:\nLUI V0 hi(p2_stars)\nADDIU V0 V0 lo(p2_stars)\nLBU V0 0(V0)\nJ starcountend\nNOP\n;Get player three star count into V0\nGetPlayerThreeStarCount:\nLUI V0 hi(p3_stars)\nADDIU V0 V0 lo(p3_stars)\nLBU V0 0(V0)\nJ starcountend\nNOP\n;Get player four star count into V0\nGetPlayerFourStarCount:\nLUI V0 hi(p4_stars)\nADDIU V0 V0 lo(p4_stars)\nLBU V0 0(V0)\nstarcountend:\nLW RA 36(SP)\nJR RA\nADDIU SP SP 40"},"Thieves":{"language":0,"code":"; NAME: Thieves\n; GAMES: MP3_USA\n; EXECUTION: Direct\n\nADDIU SP SP -48 ; Including 4 byte pad\nSW RA 40(SP)\nSW S2 36(SP)\nSW S1 32(SP)\nSW S0 28(SP)\n\nSW R0 16(SP) ; A4\nSW R0 20(SP) ; A5\nSW R0 24(SP) ; A6\nADDI A0 R0 -1 ; Character image (-1 for none)\nLUI A1 hi(introMsg)\nADDIU A1 A1 lo(introMsg)\nADDU A2 R0 R0\nJAL 0x800EC8EC ; ShowMessage\nADDU A3 R0 R0\n\nJAL 0x800EC9DC\nNOP\nJAL 0x800EC6C8\nNOP\nJAL 0x800EC6EC\nNOP\n\nJAL GetCurrentPlayerIndex\nNOP\n\n; Figure out which player item slots to fill\nADDU S0 R0 R0\n\nLUI S1 hi(p1_item1)\nADDIU S1 S1 lo(p1_item1)\n\nBEQ S0 V0 determineslot\nNOP\nADDIU S0 S0 1\n\nLUI S1 hi(p2_item1)\nADDIU S1 S1 lo(p2_item1)\n\nBEQ S0 V0 determineslot\nNOP\nADDIU S0 S0 1\n\nLUI S1 hi(p3_item1)\nADDIU S1 S1 lo(p3_item1)\n\nBEQ S0 V0 determineslot\nNOP\nADDIU S0 S0 1\n\nLUI S1 hi(p4_item1)\nADDIU S1 S1 lo(p4_item1)\n\n; Figure out if the current player has an item in slot 1\ndetermineslot:\nADDIU S2 R0 0xFF\nLBU S0 0(S1)\nBNE S0 S2 stealitem ; First slot not empty (0xFF)\nNOP\n;ADDIU S1 S1 1\n;LBU S0 0(S1)\n;BEQ S0 S2 givemushroom\n;NOP\n;ADDIU S1 S1 1\n;LBU S0 0(S1)\n;BEQ S0 S2 givemushroom\n;NOP\n\n; If we reached here, the player has no items.\nSW R0 16(SP) ; A4\nSW R0 20(SP) ; A5\nSW R0 24(SP) ; A6\nADDI A0 R0 -1 ; Character image (-1 for none)\nLUI A1 hi(cannotStealItemMsg)\nADDIU A1 A1 lo(cannotStealItemMsg)\nADDU A2 R0 R0\nJAL 0x800EC8EC ; ShowMessage\nADDU A3 R0 R0\n\nJAL 0x800EC9DC\nNOP\nJAL 0x800EC6C8\nNOP\nJAL 0x800EC6EC\nNOP\nJ exit\nNOP\n\nstealitem:\nSW R0 16(SP) ; A4\nSW R0 20(SP) ; A5\nSW R0 24(SP) ; A6\nADDI A0 R0 -1 ; Character image (-1 for none)\nLUI A1 hi(robbedMsg)\nADDIU A1 A1 lo(robbedMsg)\nADDU A2 R0 R0\nJAL 0x800EC8EC ; ShowMessage\nADDU A3 R0 R0\n\nJAL 0x800EC9DC\nNOP\nJAL 0x800EC6C8\nNOP\nJAL 0x800EC6EC\nNOP\n\n\n; 0x00 = Mushroom\n; 0x01 = Skeleton Key\n; 0x02 = Poison Mushroom\n; 0x03 = Reverse Mushroom\n; 0x04 = Cellular Shopper\n; 0x05 = Warp Block\n; 0x06 = Plunder Chest\n; 0x07 = Bowser Phone\n; 0x08 = Dueling Glove\n; 0x09 = Lucky Lamp\n; 0x0A = Golden Mushroom\n; 0x0B = Boo Bell\n; 0x0C = Boo Repellant\n; 0x0D = Bowser Suit\n; 0x0E = Magic Lamp\n; 0x0F = Koopa Card\n; 0x10 = Barter Box\n; 0x11 = Lucky Coin\n; 0x12 = Wacky Watch\n\n;If the player already has a poison mushroom, steal another item\nADDIU S2 R0 0x02 ; Poison Mushroom value\nLBU S0 0(S1)\nBNE S0 S2 steal ; No poison mushroom in first slot\nNOP\nADDIU S1 S1 1\nLBU S0 0(S1)\nADDIU S2 R0 0xFF ; If the player has nothing but poison mushrooms,\nBEQ S0 S2 exit ; then they shouldn't get a free poison mushroom\nNOP\nADDIU S2 R0 0x02\nBNE S0 S2 steal\nNOP\nADDIU S1 S1 1\nLBU S0 0(S1)\nADDIU S2 R0 0xFF\nBEQ S0 S2 exit\nNOP\n\nsteal:\nADDIU S2 R0 0x02\nSB S2 0(S1)\n\nexit:\nLW RA 40(SP)\nLW S2 36(SP)\nLW S1 32(SP)\nLW S0 28(SP)\nJR RA\nADDIU SP SP 48\n\n.align 16\nintroMsg:\n.ascii \"You suddenly feel something moving\"\n.byte 0x0A ; \\n\n.ascii \"in your back pocket\"\n.byte 0x85 ; .\n.ascii \" You turn around\"\n.byte 0x0A ; \\n\n.ascii \"and see a \"\n.byte 0x03 ; red\n.ascii \"Bob\"\n.byte 0x3D\n.ascii \"Omb\"\n.byte 0x08 ; white\n.ascii \" scampering away\"\n.byte 0xC2 ; !\n.byte 0xFF,0 ; FF=Pause\n\n.align 16\ncannotStealItemMsg:\n.ascii \"The \"\n.byte 0x03 ; red\n.ascii \"Bob\"\n.byte 0x3D\n.ascii \"Omb\"\n.byte 0x08 ; white\n.ascii \" tried to steal from you\"\n.byte 0x82 ; comma\n.byte 0x0A ; \\n\n.ascii \"but you had no items\"\n.byte 0x85 ; .\n.byte 0xFF,0 ; FF=Pause\n\n.align 16\nrobbedMsg:\n.ascii \"One of your items was stolen and\"\n.byte 0x0A ; \\n\n.ascii \"replaced with a \"\n.byte 0x04 ; purple\n.ascii \"Poison Mushroom\"\n.byte 0x08 ; white\n.byte 0xC2 ; !\n.byte 0xFF,0 ; FF=Pause"},"Sell Star(s) for Coins":{"language":0,"code":"; NAME: Sell Star(s) for Coins\n; GAMES: MP3_USA\n; EXECUTION: Direct\n; PARAM: Number|SellPrice\n; PARAM: Boolean|SellMultiple\n; PARAM: Space|SpaceToFace\n\n; This code is designed to allow you to sell Stars to receive coins.\n; The coins received per Star is set by the parameter \"SellPrice\".\n; This event supports selling either one Star at a time or multiple\n; at once; just set the parameter \"SellMultiple\" to \"true\" to allow\n; for selling multiple Stars at once.\n\nADDIU SP SP -80\nSW RA 76(SP)\nSW S0 72(SP)\nSW S1 68(SP)\nSW S2 64(SP)\nSW S3 60(SP)\nSW S4 56(SP)\nSW S5 52(SP)\n\n; S0 = Current Player Struct\n; S1 = Prompt Choice\n; S2 = Coin Profit\n; S3 = Stars to Sell\n; S4 = Player's Stars\n; S5 = SellPrice\n\n;===Set Player Idle Animation===\nLI A0 -1 ; Set current player\nLI A1 -1 ; Set idle animation\nJAL SetBoardPlayerAnimation\nLI A2 2 ; Loop the animation\n\n;===Rotate Toward Space===\nLI A0 -1 ; Set current player\nLI A1 8 ; Rotate over 8 frames\nJAL 0x800ED20C ; Rotate Player Model\nLI A2 SpaceToFace\n\n;===Check for Stars===\nJAL GetPlayerStruct\nLI A0 -1 ; Get current player struct at V0\nMOVE S0 V0 ; Copy V0 to S0\n\nLBU S4 0x0E(S0) ; Load stars into S1 from offset of player struct\nBEQZ S4 NoStars ; If S1 = 0, player has no stars\nNOP\n\n;===Prepare Coin String to Display in Message===\nLI S5 SellPrice\n\nLUI A0 hi(CoinString)\nADDIU A0 A0 lo(CoinString) ; Saves # of coins to CoinString\nLUI A1 hi(percent_d)\nADDIU A1 A1 lo(percent_d)\nJAL sprintf ; Converts a number to a text string\nMOVE A2 S5 ; Converts the number of coins to a string\n\n;===Prepare Star String to Display in Message===\nLUI A0 hi(StarString)\nADDIU A0 A0 lo(StarString) ; Location of converted string\nLUI A1 hi(percent_d)\nADDIU A1 A1 lo(percent_d)\nJAL sprintf\nLI A2 1 ; Convert # of stars for sale into string (default 1)\n\n;===Check to Sell Multiple Stars===\nLI S3 1 ; Default sell 1 star at a time\nLI T0 1\nBEQ T0 S4 SellSingleStar ; If S1 = 1, player can sell 1 star\nNOP\nLI T0 SellMultiple ; 0 = only sell single star\nBEQZ T0 SellSingleStar\nNOP\n\n;===Sell Multiple Stars===\nJAL PlaySound\nLI A0 0x256 ; Bob-omb voice\n\nSW R0 16(SP) ; A4\nSW R0 20(SP) ; A5\nSW R0 24(SP) ; A6\nLI A0 0xB ; Character image (-1 for none, 0xB for Red Bob-omb)\n; Visit the following link to get the full list of Character Images:\n; https://github.com/PartyPlanner64/PartyPlanner64/wiki/Displaying-Messages\n; If you use a character image, check the bottom of the code\nLUI A1 hi(SellMultiStarsMessage)\nADDIU A1 A1 lo(SellMultiStarsMessage)\nLUI A2 hi(StarString)\nADDIU A2 A2 lo(StarString) ; Load StarString into A2 (string #1)\nLUI A3 hi(CoinString)\nJAL 0x800EC92C  ; ShowMessage2\nADDIU A3 A3 lo(CoinString) ; Load CoinString into A3 (string #2)\n\nJAL PlayerIsCPU\nLBU A0 0x1D(S0) ; V0 = 1 if current player is CPU\n\nBNEZ V0 exitloop\nNOP\n\nLoopReturn:\nJAL DetectCStickInput ; V0 = 1 if Stick is Up, -1 if Down, ELSE 0\nLBU A0 0x1D(S0)\n\nBEQZ V0 Loop\nNOP\n\nLI T0 1\nBEQ V0 T0 CheckMax\nNOP ; else CheckMin\nCheckMin:\nBNE S3 T0 ContinueNormal ; S3 =/= 1\nNOP\nJ ContinueRefresh\nMOVE S3 S4 ; Copy Player's Stars to Stars to Sell\n\nCheckMax:\nBNE S3 S4 ContinueNormal ; Player's Stars =/= Stars to Sell\nNOP\nJ ContinueRefresh\nMOVE S3 T0 ; S3 = 1\n\nContinueNormal:\nADDU S3 S3 V0 ; Add 1 to Stars to Sell\n\nContinueRefresh:\nLUI A0 hi(StarString)\nADDIU A0 A0 lo(StarString)\nLUI A1 hi(percent_d)\nADDIU A1 A1 lo(percent_d)\nJAL sprintf\nMOVE A2 S3 ; Move Stars to Sell into A2\n\nMULT S3 S5 ; Multiply Stars to Sell by Sell Price\nMFLO A2 ; Move result to A2\n\nLUI A0 hi(CoinString)\nADDIU A0 A0 lo(CoinString) ; Saves # of coins to CoinString\nLUI A1 hi(percent_d)\nJAL sprintf ; Converts a number to a text string\nADDIU A1 A1 lo(percent_d)\n\nJAL PlaySound\nLI A0 582 ; Coin Sound\n\nJAL SleepProcess\nLI A0 2 ; Sleep for 2 frames so choosing amount is easier\n\nLoop:\nJAL DetectABInput ; V0 = 1 if A press, 2 if B press, ELSE 0\nLBU A0 0x1D(S0)\n\nLI T0 1\nBEQ V0 T0 exitloop\nNOP\nBEQZ V0 ContinueInLoop\nNOP\n\nJAL PlaySound\nLI A0 4 ; Back Sound Index\n\nJAL 0x800EC6C8\nNOP\nJAL 0x800EC6EC\nNOP\nJ SayingNo\nNOP\n\nContinueInLoop:\nLI A0 2\nLUI A1 hi(StarString)\nADDIU A1 A1 lo(StarString) ; String value\nJAL 0x8005B6BC\nLI A2 0 ; Start with String #1\n\nLI A0 2\nLUI A1 hi(SellMultiStarsMessage)\nADDIU A1 A1 lo(SellMultiStarsMessage)\nLI A2 -1\nJAL 0x8005B43C\nLI A3 -1\n\nJAL SleepProcess\nLI A0 3\n\nJ LoopReturn\nNOP\n\nexitloop:\nJAL CloseMessage\nNOP\nJAL 0x800EC6EC\nNOP\n\nJAL PlaySound\nLI A0 583 ; Cash Register Sound\n\nJAL SleepProcess\nLI A0 10 ; Sleep 10 frames\n\nJ SellStar\nNOP\n\n;===Display Prompt to Sell a Star===\nSellSingleStar:\nLUI A0 hi(SellStarPrompt)\nADDIU A0 A0 lo(SellStarPrompt)\nLI A1 1 ; Display prompt\nLUI A2 hi(CoinString)\nJAL CallMessage\nADDIU A2 A2 lo(CoinString) ; Load CoinString into A2 (string #1)\n\n; Get the selection, either from the player or CPU.\n; If A0 is a pointer to AI data, AI logic is ran to pick for CPUs.\n; If A0 is 0 or 1, the 0th or 1st option is chosen by CPUs.\n; If A0 is 2, then the value of A1 is the CPUs option index choice.\nJAL AILogic\nLBU A0 0x1D(S0) ; Current player index from offset of player struct\nLI A0 2\nJAL GetBasicPromptSelection\nMOVE A1 V0 ; A1 now has the AI's decision\nMOVE S1 V0 ; S1 now has the chosen option index\n\n; Obligatory message box closing/cleanup calls.\nJAL 0x800EC6C8\nNOP\nJAL 0x800EC6EC\nNOP\n\n; Change the player's destination based on the choice.\nLI T0 0\nBEQ S1 T0 SellStar\nNOP\nLI T0 1\nBEQ S1 T0 SayNo\nNOP\nJAL ViewBoardMap\nNOP\nJ SellSingleStar\nNOP\n\n;===Sell Star(s)===\nSellStar:\nLBU T0 0x0E(S0) ; Load stars into T0 from offset of player struct\nSUBU T0 T0 S3 ; T0 minus S3\nSB T0 0x0E(S0) ; Store new star value into offset of player struct\n\n;===Gain Coins===\nMULT S3 S5 ; Multiply stars sold by price per star\nMFLO S2 ; Store result in S2\nSLTI T0 S2 1000 ; T0 = 1 if S2 < 1000\nBNEZ T0 GainCoins\nNOP ; else S2 = 1000+\nLI S2 999\n\nGainCoins:\nLBU A0 0x1D(S0) ; Give coins to current player\nJAL AdjustPlayerCoinsGradual\nMOVE A1 S2 ; Give coins\n\nLBU A0 0x1D(S0) ; Give coins to current player\nJAL ShowPlayerCoinChange\nMOVE A1 S2 ; Give coins\n\nJAL SleepProcess\nLI A0 30 ; Wait 30 frames for coin change\n\n;===Play Happy Voice===\nLBU T0 3(S0) ; ; Load character value from offset of player struct\nJAL PlaySound\nADDIU A0 T0 0x2BE ; Add character value to Mario's sad voice\n; Character voices are their \"character value\" distance away from\n; Mario's, e.g. Luigi's character value = 1, so Luigi's happy voice\n; is 1 away from Mario's.\n; 0x2BE = Happy Voice, 0x287 = Sad Voice\n\n; Visit the following link to get SFX Indexes:\n; https://pastebin.com/H1jxNFqr\n\n;===Play Happy Animation===\nLI A0 -1 ; Set current player\nLI A1 5 ; Joy animation\nJAL SetBoardPlayerAnimation\nLI A2 0 ; Do not loop animation\n\nJAL SleepProcess\nLI A0 40 ; Wait 40 frames for animation\n\n;===Sold Message===\nLUI A0 hi(SoldMessage)\nADDIU A0 A0 lo(SoldMessage)\nLI A1 0 ; Display message\nJAL CallMessage\nLI A2 0 ; No string\n\nJ exit\nNOP\n\n;===Prepare Say No Message===\nSayingNo:\nLUI A0 hi(CoinString)\nADDIU A0 A0 lo(CoinString) ; Saves # of coins to CoinString\nLUI A1 hi(percent_d)\nADDIU A1 A1 lo(percent_d)\nJAL sprintf ; Converts a number to a text string\nMOVE A2 S5 ; Converts the number of coins to a string\n\n;===Say No Message===\nSayNo:\nLUI A0 hi(DeclineMessage)\nADDIU A0 A0 lo(DeclineMessage)\nLI A1 0 ; Display message\nLUI A2 hi(CoinString)\nJAL CallMessage\nADDIU A2 A2 lo(CoinString) ; Load CoinString into A2 (string #1)\n\nJ exit\nNOP\n\n;===No Stars Message===\nNoStars:\nLUI A0 hi(NoStarsMessage)\nADDIU A0 A0 lo(NoStarsMessage)\nLI A1 0 ; Display message\nJAL CallMessage\nLI A2 0 ; No string\n\nexit:\nLW RA 76(SP)\nLW S0 72(SP)\nLW S1 68(SP)\nLW S2 64(SP)\nLW S3 60(SP)\nLW S4 56(SP)\nLW S5 52(SP)\nJR RA\nADDIU SP SP 80\n\n;===Prep for Displaying Strings===\n.align 16\npercent_d:\n.asciiz \"%d\" ; 0x25640000\n\n.align 16\nCoinString:\n.fill 8\n\n.align 16\nStarString:\n.fill 8\n\n;===Mini Func to Call Static Message===\n.align 4\nCallMessage:\nADDIU SP SP -48\nSW RA 44(SP)\nSW S0 40(SP)\nSW S1 36(SP)\nSW S2 32(SP)\n\n; A0 = Message Address\n; A1 = Message or Prompt (0 or 1)\n; A2 = String #1 (byte 0x11)\n\nMOVE S1 A1 ; Copy A1 to S1\nMOVE S0 A0 ; Copy A0 to S0\nMOVE S2 A2 ; Copy A2 to S2\n\nJAL PlaySound\nLI A0 0x256 ; Bob-omb voice\n\nSW R0 16(SP) ; A4\nSW R0 20(SP) ; A5\nSW R0 24(SP) ; A6\nLI A0 0xB ; Character image (-1 for none, 0xB for Red Bob-omb)\n; Visit the following link to get the full list of Character Images:\n; https://github.com/PartyPlanner64/PartyPlanner64/wiki/Displaying-Messages\n; If you use a character image, check the bottom of the code\nMOVE A1 S0 ; Copy S0 to A0\nMOVE A2 S2 ; Copy S2 to A2\nJAL ShowMessage\nLI A3 0\n\nBNEZ S1 CallMessageExit ; If S0 = 1, exit to close prompt\nNOP\n\n; Obligatory message box closing/cleanup calls.\nJAL 0x800EC9DC\nNOP\nJAL CloseMessage\nNOP\nJAL 0x800EC6EC\nNOP\n\nCallMessageExit:\nLW RA 44(SP)\nLW S0 40(SP)\nLW S1 36(SP)\nLW S2 32(SP)\nJR RA\nADDIU SP SP 48\n\n;===Mini Func to Decide AI Choice for Prompt===\n.align 4\nAILogic:\nADDIU SP SP -32\nSW RA 28(SP)\n\n; A0 = Current Player Index\n\nJAL GetPlayerPlacement ; Returns 0-3 for 1st to 4th\nNOP\nLI T0 20 ; Chances in increments of 20\nMULT T0 V0 ; Multiply V0 by T0\nMFLO T0 ; Move result from LO to T0 (0,20,40,60)\nJAL RNGPercentChance ; A0 % chance of V0 = 1\nADDIU A0 T0 20 ; Add base 20% chance\n\nLW RA 28(SP)\nJR RA\nADDIU SP SP 32\n\n;===Message Text===\n.align 16\nSellMultiStarsMessage:\n.byte 0x0B ; Begin prompt\n.byte 0x1A,0x1A,0x1A,0x1A ; Standard padding for picture\n.ascii \"Choose the number of\"\n.byte 0x0A ; New Line (Writes Below)\n.byte 0x1A,0x1A,0x1A,0x1A ; Standard padding for picture\n.byte 0x07 ; Yellow font\n.ascii \"stars\"\n.byte 0x08 ; White font\n.ascii \" you\"\n.byte 0x5C ; Apostrophe (')\n.ascii \"ll sell\"\n.byte 0x85 ; Period (.)\n.byte 0x0A ; New Line (Writes Below)\n.byte 0x0A ; New Line (Writes Below)\n.byte 0x1A,0x1A,0x1A,0x1A,0x1A ; Picture + Option Indent\n.ascii \"Sell\"\n.byte 0x10,0x10 ; Space 2x (  )\n.byte 0x2A ; Star icon\n.byte 0x20 ; ???\n.byte 0x3E ; x (multiply)\n.byte 0x20 ; ???\n.byte 0x05 ; Green Font\n.byte 0x0F ; ???\n.byte 0x11 ; String #1 (Price)\n.byte 0x19 ; ???\n.byte 0x0A ; New Line (Writes Below)\n.byte 0x08 ; White font\n.byte 0x1A,0x1A,0x1A,0x1A,0x1A ; Picture + Option Indent\n.ascii \"Gain\"\n.byte 0x10,0x10 ; Space 2x (  )\n.byte 0x29 ; Coin icon\n.byte 0x20 ; ???\n.byte 0x3E ; x (multiply)\n.byte 0x20 ; ???\n.byte 0x05 ; Green Font\n.byte 0x0F ; ???\n.byte 0x12 ; String #2 (Price)\n.byte 0x19 ; ???\n.byte 0x0A ; New Line (Writes Below)\n.byte 0x0A ; New Line (Writes Below)\n.byte 0x1A,0x1A,0x1A,0x1A,0x1A,0x1A;Picture + Option Indent\n.byte 0x28 ; Control Stick Icon\n.byte 0x85,0x85,0x85 ; Period (...)\n.ascii \"Choose\"\n.byte 0x0A ; New Line (Writes Below)\n.byte 0x1A,0x1A,0x1A,0x1A,0x1A,0x1A;Picture + Option Indent\n.byte 0x21 ; (A) Button Icon\n.byte 0x85,0x85,0x85 ; Period (...)\n.ascii \"Confirm\"\n.byte 0x0A ; New Line (Writes Below)\n.byte 0x1A,0x1A,0x1A,0x1A,0x1A,0x1A;Picture + Option Indent\n.byte 0x22 ; (B) Button Icon\n.byte 0x85,0x85,0x85 ; Period (...)\n.ascii \"Quit\"\n.byte 0\n.byte 0\n\n.align 16\nSellStarPrompt:\n.byte 0x0B ; Begin prompt\n.byte 0x1A,0x1A,0x1A,0x1A ; Padding for character image\n.ascii \"Ten\"\n.byte 0x3D ; Dash (-)\n.ascii \"hut\"\n.byte 0x82 ; Comma (,)\n.ascii \" soldier\"\n.byte 0xC2 ; Exclamation mark (!)\n.ascii \" It looks like\"\n.byte 0x0A ; New line (writes below)\n.byte 0x1A,0x1A,0x1A,0x1A ; Padding for character image\n.ascii \"you can sell a\"\n.byte 0x07 ; Yellow font\n.ascii \" Star\"\n.byte 0x08 ; White font\n.ascii \" for\"\n.byte 0x0A ; New line (writes below)\n.byte 0x1A,0x1A,0x1A,0x1A ; Padding for character image\n.byte 0x06 ; Blue font\n.byte 0x11 ; String #1 stored in A2 (CoinString)\n.ascii \" coins\"\n.byte 0x08,0xC2 ; White font, Exclamation mark (!)\n.ascii \" Deal or no deal\"\n.byte 0xC3 ; Question mark (?)\n.byte 0x0A,0x0A ; Two new lines\n.byte 0x1A,0x1A,0x1A,0x1A,0x1A,0x1A ; Little more for option indent\n.byte 0x0C ; Start option\n.ascii \"Sell\"\n.byte 0x07 ; Yellow font\n.ascii \" a Star\"\n.byte 0x08 ; White font\n.ascii \" for \"\n.byte 0x06 ; Blue font\n.byte 0x11 ; String #1 stored in A2 (CoinString)\n.ascii \" coins\"\n.byte 0x08,0x0D ; White font, End option\n.byte 0x0A ; New line (writes below)\n.byte 0x1A,0x1A,0x1A,0x1A,0x1A,0x1A ; Little more for option indent\n.byte 0x0C ; Start option\n.ascii \"No deal\"\n.byte 0x0D ; End option\n.byte 0x0A ; New line (writes below)\n.byte 0x1A,0x1A,0x1A,0x1A,0x1A,0x1A ; Little more for option indent\n.byte 0x0C ; Start option\n.ascii \"View map\"\n.byte 0x0D ; End option\n.byte 0\n\n.align 16\nSoldMessage:\n.byte 0x1A,0x1A,0x1A,0x1A ; Padding for character image\n.ascii \"Many thanks\"\n.byte 0x82 ; Comma (,)\n.ascii \" soldier\"\n.byte 0xC2 ; Exclamation mark (!)\n.byte 0x0A ; New line (writes below)\n.byte 0x1A,0x1A,0x1A,0x1A ; Padding for character image\n.ascii \"Ten\"\n.byte 0x3D ; Dash (-)\n.ascii \"hut\"\n.byte 0xC2,0xC2 ; Two exclamation marks (!!)\n.byte 0xFF,0 ; Wait, press A to confirm\n\n.align 16\nDeclineMessage:\n.byte 0x1A,0x1A,0x1A,0x1A ; Padding for character image\n.ascii \"Ten\"\n.byte 0x3D ; Dash (-)\n.ascii \"hut\"\n.byte 0x82 ; Comma (,)\n.ascii \" soldier\"\n.byte 0xC2 ; Exclamation mark (!)\n.ascii \" The choice\"\n.byte 0x0A ; New line (writes below)\n.byte 0x1A,0x1A,0x1A,0x1A ; Padding for character image\n.ascii \"is yours\"\n.byte 0x85 ; Period (.)\n.ascii \" Just remember that\"\n.byte 0x0A ; New line (writes below)\n.byte 0x1A,0x1A,0x1A,0x1A ; Padding for character image\n.byte 0x07 ; Yellow font\n.ascii \"one Star\"\n.byte 0x08 ; White font\n.ascii \" sells for \"\n.byte 0x06 ; Blue font\n.byte 0x11 ; String #1 stored in A2 (CoinString)\n.ascii \" coins\"\n.byte 0x08,0xC2 ; White font, Exclamation mark (!)\n.byte 0xFF,0 ; Wait, press A to confirm\n\n.align 16\nNoStarsMessage:\n.byte 0x1A,0x1A,0x1A,0x1A ; Padding for character image\n.ascii \"Ten\"\n.byte 0x3D ; Dash (-)\n.ascii \"hut\"\n.byte 0x82 ; Comma (,)\n.ascii \" soldier\"\n.byte 0xC2 ; Exclamation mark (!)\n.ascii \" It looks like\"\n.byte 0x0A ; New line (writes below)\n.byte 0x1A,0x1A,0x1A,0x1A ; Padding for character image\n.ascii \"you have\"\n.byte 0x03 ; Red font\n.ascii \" 0 Stars\"\n.byte 0x08 ; White font\n.ascii \" to sell\"\n.byte 0xC2 ; Exclamation mark (!)\n.byte 0x0A ; New line (writes below)\n.byte 0x1A,0x1A,0x1A,0x1A ; Padding for character image\n.ascii \"Come back when you\"\n.byte 0x5C ; Apostrophe (')\n.ascii \"ve collected some\"\n.byte 0xC2 ; Exclamation mark (!)\n.byte 0xFF,0 ; Wait, press A to confirm\n\n; Here's a list of the most common bytes you'll need\n; .byte 0x01 ; Black font\n; .byte 0x03 ; Red font\n; .byte 0x04 ; Purple font\n; .byte 0x05 ; Green font\n; .byte 0x06 ; Blue font\n; .byte 0x07 ; Yellow font\n; .byte 0x08 ; White font\n; .byte 0x85 ; Period (.)\n; .byte 0xC2 ; Exclamation mark (!)\n; .byte 0xC3 ; Question mark (?)\n; .byte 0x82 ; Comma (,)\n; .byte 0x0A ; New line (writes below)\n; .byte 0x5C ; Apostrophe (')\n; .byte 0x29 ; Coin icon\n; .byte 0x3D ; - (minus)\n; .byte 0x3E ; x (multiply)\n; .byte 0xFF,0 ; Wait, press A to confirm\n\n; If your message has an image, use this at the start of each line\n; .byte 0x1A,0x1A,0x1A,0x1A ; Padding for character image\n\n;===Funcs to Read Controller Inputs===\n.align 4\nDetectCStickInput:\nADDIU SP SP -40\nSW RA 36(SP)\nSW S5 32(SP)\n\n; A0 Current Player index\n\nLUI T1 hi(p1_controller)\nADDIU T1 T1 lo(p1_controller) ; Load P1's Controller\nLI T0 0x38 ; This is the distance between each player's Controller\nMULT A0 T0 ;  Multiply Current Player Index by S3\nMFLO T0 ; Move the result to S3\n\nADDU T1 T1 T0 ; Add result to get Current Player's Controller Addr\nLBU T0 0(T1) ; Load address value into A1\n\nLUI T1 hi(0x800CC3F7)\nADDIU T1 T1 lo(0x800CC3F7) ; Load P1's Y Axis\nLI A2 0x8 ; This is the distance between each player's Controller\nMULT A2 T0 ;  Multiply Controller value by 8\nMFLO T0 ; Move the result to S3\n\nADDU T1 T1 T0 ; Add result to get Current Player's Y Axis\nLBU T0 0(T1) ; Load address value into A1\n\nSLTI S5 T0 0x1E ; S5 = 1 if less than 1E\nBNE S5 R0 return_zero \nNOP\nSLTI S5 T0 0x7C ; Set if Stick is tilted up\nBNE S5 R0 return_one\nNOP\nSLTI S5 T0 0xE2\nBNE S5 R0 return_neg_one\nNOP\n\nreturn_zero:\nJ DetectCStickInputexit\nLI V0 0\n\nreturn_one:\nJ DetectCStickInputexit\nLI V0 1\n\nreturn_neg_one:\nLI V0 -1\n\nDetectCStickInputexit:\nLW RA 36(SP)\nLW S5 32(SP)\nJR RA\nADDIU SP SP 40\n\n.align 4\nDetectABInput:\nADDIU SP SP -40\nSW RA 36(SP)\n\n; A0 Current Player's Control Stick Y axis\n\nLUI T1 hi(p1_controller)\nADDIU T1 T1 lo(p1_controller) ; Load P1's Controller\nLI T0 0x38 ; This is the distance between each player's Controller\nMULT A0 T0 ;  Multiply Current Player Index by S3\nMFLO T0 ; Move the result to S3\n\nADDU T1 T1 T0 ; Add result to get Current Player's Controller Addr\nLBU T0 0(T1) ; Load address value into A1\n\nLUI T1 hi(0x800CC3F4)\nADDIU T1 T1 lo(0x800CC3F4) ; Load P1's Button Press Address\nLI A2 0x2 ; This is the distance between each player's Button Address\nMULT A2 T0 ;  Multiply Controller value by 2\nMFLO T0 ; Move the result to S3\n\nADDU T1 T1 T0 ; Add result to get Current Player's Y Axis\nLBU T0 0(T1) ; Load address value into A1\n\nLI T1 0x80\nBEQ T0 T1 APress\nNOP\nLI T1 0x40\nBEQ T0 T1 BPress\nNOP\n\nNoPress:\nJ DetectABInputexit\nLI V0 0\n\nAPress:\nJ DetectABInputexit\nLI V0 1\n\nBPress:\nLI V0 2\n\nDetectABInputexit:\nLW RA 36(SP)\nJR RA\nADDIU SP SP 40"},"Space Warp v3 (Airsola™)":{"language":0,"code":"; NAME: Space Warp v3 (Airsola™)\n; GAMES: MP3_USA\n; EXECUTION: Direct\n; PARAM: Space|Destination\n; PARAM: Space|PreviousSpace\n; PARAM: Space|NextSpace\n\n;====================================================================\n; IMPORTANT: This code is specifically designed to warp a player who\n;            lands on a Space into a Space of the same type.\n;            This is due to limitations on how warps execute.\n;\n;            Destination is where the player will warp to.\n;            PreviousSpace is the space the player will step into if\n;            they go in reverse after the warp.\n;            NextSpace is the next space that the player will step\n;            into if they roll normally.\n;====================================================================\n\nADDIU SP SP -80\nSW RA 76(SP)\nSW S4 72(SP) ; Current Player's Index\nSW S5 68(SP) ; Current Player's Struct\n\n;FADE-OUT START------------------------------------------------------\nLI A0 4 ; Happening Space Fade-out \nJAL InitFadeOut\nLI A1 16 ; Fade Out for 16 Frames\n\nJAL SleepProcess\nLI A0 16 ; Sleep 16 Frames\n;FADE-OUT END--------------------------------------------------------\n\nJAL PlaySadVoice ; Plays Current Player Character's Scream\nNOP\n\nJAL SleepVProcess\nNOP\n\n;WARP START----------------------------------------------------------\nJAL GetCurrentPlayerIndex ; Player Index located at V0\nNOP\nMOVE S4 V0 ; Copy Current Player's Index to S4\n\nMOVE A0 S4 ; Assigns Current Player Index to A0\nLI A1 Destination_chain_index ; Assigns Chain Index to A1\nJAL SetPlayerOntoChain\nLI A2 Destination_chain_space_index ; Assigns Space Index to A2\n\nMOVE A0 S4 ; Assigns Current Player Index to A0\nLI A1 PreviousSpace_chain_index ; Assigns Chain Index to A1\nJAL SetPrevChainAndSpace\nLI A2 PreviousSpace_chain_space_index ; Assigns Space Index to A2\n\nMOVE A0 S4 ; Assigns Current Player Index to A0\nLI A1 NextSpace_chain_index ; Assigns Chain Index to A1\nJAL SetNextChainAndSpace\nLI A2 NextSpace_chain_space_index ; Assigns Space Index to A2\n\nJAL GetPlayerStruct ; Player Struct at V0\nLI A0 -1 ; Current Player\nMOVE S5 V0\n\nLI A0 Destination_chain_index\nJAL GetAbsSpaceIndexFromChainSpaceIndex ; Gets True Space Index at V0\nLI A1 Destination_chain_space_index\n\nJAL GetSpaceData ; Pointer to Space Data at V0\nMOVE A0 V0 ; True Space Index\n\nADDIU V0 V0 8 ; This gets the X pos of the space\nLW V1 0(V0) \nMOVE T0 V1 ; Copy to T0\n\nADDIU V0 V0 8 ; This gets the Y pos of the space\nLW V1 0(V0)\nMOVE T1 V1 ; Copy to T1\n\nLI T2 0x41200000 ; Float value for 10?\nMTC1 T2 F0 ; Move Float to F1?\nMTC1 T1 F1 ; Move Space Y Pos float to F1?\nADD.S F0 F0 F1 ; Add the floats for maximum floatiness\nMFC1 T1 F0 ; Move total to T1?\n\nLW V1 0x24(S5) ; Load Offset 24 into V1\nADDIU V1 V1 0xC ; Add 0xC to get current player's X Coords\nSW T0 0(V1) \n\nADDIU V1 V1 8 ; This should load current player's Y Coords\nSW T1 0(V1)\n;WARP END------------------------------------------------------------\n\n;SOUND START---------------------------------------------------------\n; Use the Audio Player on PP64 to find other sound indexes to use\n; Then use the following link to know what Sound Index you need\n; https://pastebin.com/H1jxNFqr\nJAL PlaySound \nLI A0 0x107 ; Warp Block Sound Index\n\nJAL SleepProcess \nLI A0 15 ; Number of frames the game waits for sound to finish\n\nJAL PlaySound \nLI A0 0x107 ; Warp Block Sound Index\n\nJAL SleepProcess \nLI A0 15 ; Number of frames the game waits for sound to finish\n;SOUND END-----------------------------------------------------------\n\n;FADE-IN START-------------------------------------------------------\nLI A0 4 ; Happening Space Fade-in\nJAL InitFadeIn\nLI A1 16 ; 16 Frames of Fade-in\n\nJAL SleepProcess\nLI A0 31 ; Sleep for 31 Frames\n;FADE-IN END---------------------------------------------------------\n\n;MESSAGE DISPLAY START-----------------------------------------------\nSW R0 16(SP) ; A4\nSW R0 20(SP) ; A5\nSW R0 24(SP) ; A6\nLI A0 -1 ; Character image (-1 for none)\n; Visit the following link to get the full list of Character Images\n; https://github.com/PartyPlanner64/PartyPlanner64/wiki/Displaying-Messages\n; If you use a character image, check the bottom of the code\nLUI A1 hi(Message)\nADDIU A1 A1 lo(Message) ; This loads \"Message\" into the Textbox\nLI A2 0x0\nJAL ShowMessage\nLI A3 0x0\n\nJAL CloseMessage\nNOP\n;MESSAGE DISPLAY END-------------------------------------------------\n\n\n\nLW RA 76(SP)\nLW S4 72(SP)\nLW S5 68(SP)\nJR RA\nADDIU SP SP 80\n\n; .ascii is used to output Text. Anything surrounded by \" will be \n; displayed in the message (Special characters are not included).\n; For those, you must use .byte and the respective byte value.\n; Bytes that change text color will change the color of everything\n; that is written after it, until another color is used.\n\n.align 16\nMessage:\n.ascii \"You\"\n.byte 0x5C ; Apostrophe (')\n.ascii \"ve been chased by a boulder\"\n.byte 0x85 ; Period (.)\n.byte 0xFF,0 ; FF=Pause (THIS ALWAYS GOES AT THE END)\n\n; Here's a list of the most common bytes you'll need\n; .byte 0x01 ; Black Font\n; .byte 0x03 ; Red Font\n; .byte 0x04 ; Purple Font\n; .byte 0x05 ; Green Font\n; .byte 0x06 ; Blue font\n; .byte 0x07 ; Yellow Font\n; .byte 0x08 ; White Font\n; .byte 0x85 ; Period (.)\n; .byte 0xC2 ; Exclamation Mark (!)\n; .byte 0xC3 ; Question Mark (?)\n; .byte 0x82 ; Comma (,)\n; .byte 0x0A ; New Line (Writes Below)\n; .byte 0x5C ; Apostrophe (')\n; .byte 0x29 ; Coin icon\n; .byte 0x3D ; - (minus)\n; .byte 0x3E ; x (multiply)\n; .byte 0xFF,0 ; FF=Pause\n\n; If your message has an image, use this at the start of each line\n; .byte 0x1A,0x1A,0x1A,0x1A ; Padding for picture\n\n.align 4\nPlaySadVoice:\nADDIU SP SP -32\nSW RA 28(SP)\n\nJAL GetCurrentPlayerIndex\nNOP \n\nLUI T1 hi(p1_char)\nADDIU T1 T1 lo(p1_char) ; Load Player 1's Character address\nLI T0 0x38 ; Distance between each player's Character address\nMULT V0 T0 ;  Multiply Current Player Index by T0\nMFLO T0 ; Move the result to T0\n\nADDU T1 T1 T0 ; Add result to get current Player's Character address\nLBU T0 0(T1) ; Load address value into T0\n\nADDIU V0 T0 0x287 ; Mario's Sad Voice Index\n\nJAL PlaySound\nMOVE A0 V0 ; Pass the Voice Index to A0\n\nLW RA 28(SP)\nJR RA\nADDIU SP SP 32"}},"audioType":0,"bg":{"width":1152,"height":864,"src":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAABIAAAANgCAIAAADbKYQBAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4AYHARAotrKspwAAAB1pVFh0Q29tbWVudAAAAAAAQ3JlYXRlZCB3aXRoIEdJTVBkLmUHAAALZElEQVR42u3BAQEAAACCIP+vbkhAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB8GZYDAAHxit3TAAAAAElFTkSuQmCC","fov":15,"scaleFactor":0.1,"cameraEyePosX":0,"cameraEyePosY":300,"cameraEyePosZ":300,"lookatPointX":0,"lookatPointY":0,"lookatPointZ":0},"audioIndex":41,"otherbg":{"boardselect":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAABACAMAAADlCI9NAAAC+lBMVEUAewAAfQAHgAIAggMAgwAAhAAAhAcAhQAAhQgAhgAAhwAAhgoCiAAAiA4FiQAAjAEJigAAjQMAjgAAjgUAjwAAjwcAkAAOjAMAkQApeIYAkQoDkgAoeJlmZaRhZqpuZJlXaLdyZJQjfI8seokAlQAHkwAme5UgfosbgIaYXmiBYoVeaLIAlgAzeJOOYHdsZqB6ZItLbb8qfYRTa75iaacxeo8weKYAlwELlAAnf4AufIp9ZYYse5xNbcYmfpGIY3w7dqUAmAN4ZpEpfZemX1cve6E6eKBwaZcsf4ZHcM4AmgA2e5Y4eps/ctaXY2u5XjpPcMONZXo6e52RZnCQZnWjY11BdNi0YUZScculZFmsY1VDddnDYDOYaGiuZFDFYS5EdtqqZlBQdtZGede0Z0m8ZkBIeti+ZzpJe9m6a0GFdIhLfdvGbTNXftiycU2vdE7QbiqtdFnFcTVRg9tagdrbcBXOcyvRdCXXcx9chdi1eVOAhJNfiNvQeSfSeiDXeSFiit7pewfcfRymhmJrjNpkjtvffxPtfQChim/bgR5nkd5wk9vriAB0lt7liR70iQB2meHwjADkjhTxjQt+mt3hkRTkkwPxkgB6n+HklCTtlQ+Cod2FpOH1mwflnxOHpuPsnwPaojKOqN/mpQT3ogCRquLsqQDxqACTreT4qAHqrQDprROcsOKVsuOYteWfs+X0sQmft+L5tACguOTrugyiuuXuvAD5ugCkvOj2uCSrvuStwefwxAb2wwuvwui1xOX3yQC3x+e5yerAy+bBzejDzun60iHz1wzEz+rF0ez72BXL0uj52Cb62TTN1evP1+3K2u763zjR2e/V2enX2+vS3uzZ3e3a3u746TTV4vDc4PDa4uvg4ev560Hb5Ozi4u386lzj4+7d5e7k5e/e5/D87G3771f671/m5/Hg6fHk6ez68Gj58G/l6u3r6e3m7O7+8X/t6+/n7e/p7vD+84/q7/L69Yjw7vLr8PP99Zfs8fTv8e7t8vXw8u/sQzplAAAAAXRSTlMAQObYZgAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB+AGBwI1KFwHwhkAAAAdaVRYdENvbW1lbnQAAAAAAENyZWF0ZWQgd2l0aCBHSU1QZC5lBwAAAB5JREFUaN7twQEBAAAAgiD/r25IQAEAAAAAAAAA7wYgQAABv4PgLgAAAABJRU5ErkJggg==","boardlogo":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAPoAAABkCAYAAACvgC0OAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4AIVESUAMoBcTwAAAB1pVFh0Q29tbWVudAAAAAAAQ3JlYXRlZCB3aXRoIEdJTVBkLmUHAAAAd0lEQVR42u3BAQEAAACCIP+vbkhAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAM8GhxMAAVx5XvcAAAAASUVORK5CYII=","boardlogotext":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOIAAAAkCAYAAACUoeZ+AAAABmJLR0QAAAAAAAD5Q7t/AAAACXBIWXMAAA7EAAAOxAGVKw4bAAAAB3RJTUUH4AoIFwUvmlv9hQAAAB1pVFh0Q29tbWVudAAAAAAAQ3JlYXRlZCB3aXRoIEdJTVBkLmUHAAAANklEQVR42u3BMQEAAADCoPVPbQlPoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgY39EAAEijVlTAAAAAElFTkSuQmCC","boardlogomedium":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJYAAAAyCAQAAAAUheqRAAAAWklEQVR42u3QgQAAAAACoPeXXmGAQqjhVgWyZMmSJUuWAlmyZMmSJUuBLFmyZMmSpUCWLFmyZMlSIEuWLFmyZCmQJUuWLFmyFMiSJUuWLFkKZMmSJUuWLAW/ARZDADMgQmY+AAAAAElFTkSuQmCC","boardlogosmall":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAAAuCAQAAAB0KHTVAAAAPklEQVR42u3PQREAAAwCoNm/9N5W8KABuREREREREREREREREREREREREREREREREREREREREREREREREWkPdQwALzYIU8AAAAAASUVORK5CYII=","largescene":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAUAAAADwCAYAAABxLb1rAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAAB3RJTUUH4AYHAjYGq/ycFQAAAB1pVFh0Q29tbWVudAAAAAAAQ3JlYXRlZCB3aXRoIEdJTVBkLmUHAAACdUlEQVR42u3UQREAAAjDsIF/z6CDI5HQRyvJBOChlgAwQAADBDBAAAMEMEAAAwQwQAADBDBAAAMEMEAAAwQwQAADBDBAAAMEMEAAAwQwQAADBDBAAAMEMEAAAwQwQAADBDBAAAMEDBDAAAEMEMAAAQwQwAABDBDAAAEMEMAAAQwQwAABDBDAAAEMEMAAAQwQwAABDBDAAAEMEMAAAQwQwAABDBDAAAEMEMAAAQwQMEAAAwQwQAADBDBAAAMEMEAAAwQwQAADBDBAAAMEMEAAAwQwQAADBDBAAAMEMEAAAwQwQAADBDBAAAMEMEAAAwQwQAADBAxQAsAAAQwQwAABDBDAAAEMEMAAAQwQwAABDBDAAAEMEMAAAQwQwAABDBDAAAEMEMAAAQwQwAABDBDAAAEMEMAAAQwQwAABDBAwQAADBDBAAAMEMEAAAwQwQAADBDBAAAMEMEAAAwQwQAADBDBAAAMEMEAAAwQwQAADBDBAAAMEMEAAAwQwQAADBDBAAAMEMEDAAAEMEMAAAQwQwAABDBDAAAEMEMAAAQwQwAABDBDAAAEMEMAAAQwQwAABDBDAAAEMEMAAAQwQwAABDBDAAAEMEMAAAQwQMEAJAAMEMEAAAwQwQAADBDBAAAMEMEAAAwQwQAADBDBAAAMEMEAAAwQwQAADBDBAAAMEMEAAAwQwQAADBDBAAAMEMEAAAwQwQMAAAQwQwAABDBDAAAEMEMAAAQwQwAABDBDAAAEMEMAAAQwQwAABDBDAAAEMEMAAAQwQwAABDBDAAAEMEMAAAQwQwAABDBDAAAEDBDBAAAMEMEAAAwQwQAADBDBAAAMEuGMBVV0C3yrcQ0UAAAAASUVORK5CYII="},"boardevents":[]}